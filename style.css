/* v6: v4 스타일 유지 + 하단 잘림 해결 */
:root{
  --bg1:#fbf6ff;
  --bg2:#eadcff;
  --bg3:#ffd8ea;
  --ink:#241f35;
  --primary:#9a7cff;
  --primary2:#ff8fbe;
  --card:rgba(255,255,255,0.84);
  --line:rgba(154,124,255,0.18);
  --shadow: 0 18px 45px rgba(36,31,53,0.16);
}
*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", sans-serif;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:22px;
  color:var(--ink);
  background:
    radial-gradient(900px 520px at 12% 10%, #ffffffcc, transparent 60%),
    radial-gradient(720px 460px at 88% 18%, #ffffff99, transparent 58%),
    radial-gradient(640px 420px at 72% 92%, #ffffff88, transparent 60%),
    linear-gradient(135deg, var(--bg1), var(--bg2) 55%, var(--bg3));
}

#capture{
  width:1920px;
  height:1080px;
  position:relative;
  border-radius:30px;
  overflow:hidden;
  padding:46px 64px 40px;
  background:
    radial-gradient(1000px 620px at 25% 20%, #ffffffcc, transparent 60%),
    radial-gradient(900px 520px at 80% 82%, #ffffff88, transparent 62%),
    linear-gradient(135deg, var(--bg1), var(--bg2) 55%, var(--bg3));
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,0.70);
}

.bg-deco{
  position:absolute;
  inset:0;
  background:
    url("assets/potato_pattern.svg") repeat,
    radial-gradient(520px 360px at 12% 72%, rgba(255,182,210,0.42), transparent 60%),
    radial-gradient(560px 380px at 92% 18%, rgba(183,160,255,0.36), transparent 62%),
    radial-gradient(420px 320px at 60% 6%, rgba(255,182,210,0.30), transparent 62%),
    radial-gradient(420px 320px at 44% 96%, rgba(183,160,255,0.26), transparent 62%);
  mix-blend-mode: screen;
  opacity:0.98;
  pointer-events:none;
}

.sparkles{
  position:absolute;
  inset:-40px;
  background-image:
    radial-gradient(circle at 8% 18%, rgba(255,255,255,0.95) 0 2px, transparent 3px),
    radial-gradient(circle at 16% 30%, rgba(255,255,255,0.75) 0 1.5px, transparent 3px),
    radial-gradient(circle at 62% 10%, rgba(255,255,255,0.85) 0 2px, transparent 3px),
    radial-gradient(circle at 92% 36%, rgba(255,255,255,0.85) 0 2px, transparent 3px),
    radial-gradient(circle at 10% 82%, rgba(255,255,255,0.85) 0 2px, transparent 3px),
    radial-gradient(circle at 70% 86%, rgba(255,255,255,0.85) 0 2px, transparent 3px),
    radial-gradient(circle at 92% 78%, rgba(255,255,255,0.85) 0 2px, transparent 3px);
  opacity:0.38;
  filter: blur(0.15px);
  pointer-events:none;
}

.potato-hero{
  position:absolute;
  right:-26px;
  bottom:-50px;
  width:440px;
  height:440px;
  opacity:0.95;
  transform: rotate(6deg);
  pointer-events:none;
  filter: drop-shadow(0 18px 30px rgba(36,31,53,0.16));
}

header{
  text-align:center;
  margin-bottom:16px;
  position:relative;
  z-index:2;
}

.badge{
  display:inline-flex;
  padding:9px 16px;
  border-radius:999px;
  background: rgba(255,255,255,0.78);
  border: 1px solid rgba(154,124,255,0.22);
  box-shadow: 0 10px 22px rgba(36,31,53,0.10);
  font-weight:950;
  letter-spacing:1px;
  color: #6f58c9;
  margin-bottom:8px;
  font-size:16px;
}

h1{
  margin:0;
  font-size:62px;
  letter-spacing:-1px;
  background: linear-gradient(90deg, var(--primary), var(--primary2));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  text-shadow: 0 10px 24px rgba(154,124,255,0.16);
}

.subtitle{
  margin:10px 0 0;
  font-size:28px;
  color:#7b63d6;
  opacity:0.95;
}

.layout{
  display:grid;
  grid-template-columns: 2fr 1fr;
  gap:16px;
  align-items:stretch;
  position:relative;
  z-index:2;
}

.left, .right{
  display:flex;
  flex-direction:column;
  gap:14px;
  min-height:0;
}

.card{
  background: var(--card);
  border: 2px solid var(--line);
  border-radius:24px;
  padding:16px 18px;
  box-shadow: 0 16px 34px rgba(36,31,53,0.09);
  backdrop-filter: blur(4px);
}

.card-title{
  font-weight:950;
  color:#6f58c9;
  font-size:18px;
  margin-bottom:8px;
}

.quote{
  font-size:32px;
  font-weight:950;
  line-height:1.25;
  color:#2b224a;
  outline:none;
  border-radius:14px;
  padding:10px 12px;
}
.quote:focus{
  box-shadow: inset 0 0 0 3px rgba(255,143,190,0.35);
  background: rgba(255,255,255,0.58);
}

.mini{ margin-top:6px; font-size:12px; opacity:0.82; }
.mini-bottom{ padding:10px 14px; }

.card-table{ padding:0; overflow:hidden; }
table{ width:100%; border-collapse:collapse; font-size:30px; }
thead{ background: linear-gradient(90deg, #b19cff, #ff9fc9); color:#fff; }
th, td{ padding:14px 12px; text-align:center; }
tbody tr:nth-child(even){ background: rgba(255,159,201,0.08); }

td.day{
  font-weight:950;
  color:#6f58c9;
  width:14%;
  user-select:none;
}
td.editable{
  font-weight:850;
  outline:none;
  border-radius:10px;
}
td.editable:focus{
  box-shadow: inset 0 0 0 3px rgba(255,143,190,0.35);
  background: rgba(255,255,255,0.58);
}

.image-card, .tag-card{
  background: rgba(255,255,255,0.80);
  border: 2px solid rgba(154,124,255,0.22);
  border-radius:24px;
  padding:16px;
  box-shadow: 0 16px 34px rgba(36,31,53,0.10);
  backdrop-filter: blur(4px);
  display:flex;
  flex-direction:column;
  gap:12px;
}
.tag-card{
  background: rgba(255,255,255,0.74);
  border-color: rgba(154,124,255,0.16);
  box-shadow: 0 16px 34px rgba(36,31,53,0.08);
}

.image-title, .tag-title{
  font-weight:950;
  color:#6f58c9;
  font-size:18px;
}

.image-frame{
  position:relative;
  width:100%;
  aspect-ratio: 1 / 1;
  border-radius:22px;
  overflow:hidden;
  border: 2px dashed rgba(255,143,190,0.35);
  background: rgba(255,255,255,0.58);
}
.user-image{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }

.image-placeholder{
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  gap:10px; color:#3b2f6b; opacity:0.92;
}
.ph-emoji{ font-size:42px; }
.ph-text{ font-weight:950; font-size:16px; }

.hidden{ display:none; }

.image-tags{ display:flex; gap:10px; flex-wrap:wrap; }
.pill{
  padding:8px 12px;
  border-radius:999px;
  background: rgba(255,159,201,0.18);
  border: 1px solid rgba(154,124,255,0.20);
  color:#3b2f6b;
  font-weight:950;
  font-size:13px;
}

.tag-row{ display:flex; gap:10px; flex-wrap:wrap; }
.tag{
  display:inline-flex;
  align-items:center;
  padding:9px 12px;
  border-radius:999px;
  background: rgba(255,255,255,0.74);
  border: 1px solid rgba(154,124,255,0.18);
  color:#6f58c9;
  font-size:14px;
  font-weight:950;
  box-shadow: 0 10px 18px rgba(36,31,53,0.07);
}

/* controls */
.controls{
  margin-top:16px;
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
  justify-content:center;
}
.file{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:12px 18px;
  border-radius:14px;
  border: 1px solid rgba(154,124,255,0.24);
  background: rgba(255,255,255,0.74);
  cursor:pointer;
  font-weight:950;
  color:#6f58c9;
  box-shadow: 0 10px 18px rgba(36,31,53,0.08);
}
.file input{ position:absolute; inset:0; opacity:0; cursor:pointer; }
button{
  padding:12px 22px;
  font-size:18px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  font-weight:950;
  box-shadow: 0 10px 22px rgba(154,124,255,0.20);
}
#downloadBtn{ background: linear-gradient(90deg, #b19cff, #ff9fc9); color:white; }
#clearImageBtn{ background: linear-gradient(90deg, #ffb3d0, #ffd3e3); color:#2b224a; }
#saveEditsBtn{ background: linear-gradient(90deg, #38d39f, #7cf0c9); color:#153a2e; }
button:disabled{ opacity:0.75; cursor:not-allowed; }
.hint{ font-size:13px; opacity:0.88; }
